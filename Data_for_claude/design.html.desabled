<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Black Hole Preloader + Minimal Site</title>
    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: rgba(25, 25, 25, 1);
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }

      body {
        overflow: hidden; /* allow scroll only after load */
      }

      body.site-loaded {
        overflow-y: auto;
        background-color: #0b0b0b;
      }

      /* ================= PRELOADER (BLACK HOLE) ================ */

      #blackhole {
        position: fixed;
        inset: 0;
        height: 100%;
        width: 100%;
        display: flex;
        align-items: stretch;
        justify-content: center;
        background-color: rgba(25, 25, 25, 1);
        z-index: 999;
        transition: opacity 0.8s ease;
      }

      body.site-loaded #blackhole {
        opacity: 0;
        pointer-events: none;
      }

      .centerHover {
        width: 255px;
        height: 255px;
        background-color: transparent;
        border-radius: 50%;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-top: -128px;
        margin-left: -128px;
        z-index: 3;
        cursor: pointer;
        line-height: 255px;
        text-align: center;
        transition: all 500ms;
      }

      .centerHover.open {
        opacity: 0;
        pointer-events: none;
      }

      .centerHover:hover span {
        color: #ddd;
      }

      .centerHover:hover span:before {
        background-color: #ddd;
      }

      .centerHover:hover span:after {
        background-color: #ddd;
      }

      .centerHover span {
        color: #666;
        font-size: 18px;
        position: relative;
        transition: all 500ms;
      }

      .centerHover span:before {
        content: "";
        display: inline-block;
        height: 1px;
        width: 16px;
        margin-right: 12px;
        margin-bottom: 4px;
        background-color: #666;
        transition: all 500ms;
      }

      .centerHover span:after {
        content: "";
        display: inline-block;
        height: 1px;
        width: 16px;
        margin-left: 12px;
        margin-bottom: 4px;
        background-color: #666;
        transition: all 500ms;
      }

      canvas {
        position: relative;
        z-index: 1;
        width: 100%;
        height: 100%;
        margin: auto;
      }

      /* Percentage counter in the center of the black hole */

      .loader-count {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 4;
        color: #f5f5f5;
        font-size: 18px;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
      }

      .loader-count.visible {
        opacity: 1;
      }

      /* ================= MAIN SITE CONTENT ================= */

      .site-content {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease 0.2s, transform 0.8s ease 0.2s;
      }

      body.site-loaded .site-content {
        opacity: 1;
        transform: translateY(0);
      }

      header {
        position: sticky;
        top: 0;
        z-index: 10;
        background: rgba(5, 5, 5, 0.92);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }

      .nav-inner {
        max-width: 960px;
        margin: 0 auto;
        padding: 1rem 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: #f4f4f4;
      }

      .nav-logo {
        font-weight: 600;
        letter-spacing: 0.18em;
        font-size: 0.9rem;
        text-transform: uppercase;
      }

      .nav-tagline {
        opacity: 0.6;
        font-size: 0.8rem;
      }

      main {
        max-width: 960px;
        margin: 0 auto;
        padding: 3rem 1.5rem 4rem;
      }

      section {
        padding: 4rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.04);
      }

      section:last-of-type {
        border-bottom: none;
      }

      .section-eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.2em;
        font-size: 0.75rem;
        color: #9ca3af;
        margin-bottom: 0.5rem;
      }

      .section-title {
        font-size: clamp(2rem, 3vw, 2.6rem);
        color: #f9fafb;
        margin-bottom: 1rem;
      }

      .section-text {
        max-width: 42rem;
        color: #d4d4d8;
        line-height: 1.7;
        font-size: 0.98rem;
      }

      .pill-row {
        margin-top: 1.5rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .pill {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        border-radius: 999px;
        padding: 0.4rem 0.9rem;
        border: 1px solid rgba(148, 163, 184, 0.4);
        color: #e5e7eb;
      }

      .grid-2 {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
        gap: 2.5rem;
        align-items: flex-start;
      }

      .soft-card {
        border-radius: 1.25rem;
        border: 1px solid rgba(148, 163, 184, 0.3);
        background: radial-gradient(
            circle at 0 0,
            rgba(56, 189, 248, 0.08),
            transparent 55%
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(129, 140, 248, 0.08),
            transparent 55%
          ),
          rgba(15, 23, 42, 0.85);
        padding: 1.5rem 1.7rem;
        color: #e5e7eb;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.7);
      }

      .soft-card h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
        font-size: 1.05rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      .soft-card p {
        margin: 0;
        font-size: 0.9rem;
        line-height: 1.6;
        color: #cbd5f5;
      }

      .list {
        margin: 1.25rem 0 0;
        padding-left: 1.1rem;
        color: #d1d5db;
        font-size: 0.9rem;
      }

      .list li + li {
        margin-top: 0.35rem;
      }

      .cta-row {
        margin-top: 1.75rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
      }

      .btn-outline {
        padding: 0.7rem 1.6rem;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        color: #e5e7eb;
        background: transparent;
        font-size: 0.85rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        cursor: pointer;
        transition: border-color 0.25s ease, background 0.25s ease,
          transform 0.25s ease;
      }

      .btn-outline span.arrow {
        font-size: 1.1rem;
      }

      .btn-outline:hover {
        border-color: rgba(59, 130, 246, 0.9);
        background: radial-gradient(
          circle at 0 0,
          rgba(59, 130, 246, 0.15),
          rgba(15, 23, 42, 0.95)
        );
        transform: translateY(-1px);
      }

      .muted {
        opacity: 0.65;
      }

      @media (max-width: 768px) {
        .nav-inner {
          padding-inline: 1rem;
        }
        main {
          padding-inline: 1rem;
        }
        section {
          padding-block: 3rem;
        }
        .grid-2 {
          grid-template-columns: minmax(0, 1fr);
        }
      }
    </style>
  </head>
  <body>
    <!-- =============== BLACK HOLE PRELOADER =============== -->
    <div id="blackhole">
      <div class="centerHover"><span>ENTER</span></div>
      <div class="loader-count">0%</div>
    </div>

    <!-- =============== MAIN SITE =============== -->
    <div class="site-content">
      <header>
        <div class="nav-inner">
          <div class="nav-logo">ORBIT STUDIO</div>
          <div class="nav-tagline">Minimal cosmic layout demo</div>
        </div>
      </header>

      <main>
        <!-- Section 1: Hero -->
        <section>
          <div class="section-eyebrow">Welcome</div>
          <h1 class="section-title">You made it through the singularity.</h1>
          <p class="section-text">
            This is a minimal three–section layout just to demonstrate how the
            black hole preloader hands over control to your website. Replace
            this with your own hero copy, components, or page layout.
          </p>
          <div class="pill-row">
            <div class="pill">Smooth Entry</div>
            <div class="pill">Canvas Loader</div>
            <div class="pill">0–100% Counter</div>
          </div>
        </section>

        <!-- Section 2: Two-column content -->
        <section>
          <div class="grid-2">
            <div>
              <div class="section-eyebrow">Section Two</div>
              <h2 class="section-title">A simple content block.</h2>
              <p class="section-text">
                Keep the layout clean and focused: text on the left, supporting
                information or visuals on the right. You can turn this into
                services, features, or anything your project needs.
              </p>
              <div class="cta-row">
                <button class="btn-outline">
                  <span>Primary Action</span>
                  <span class="arrow">↗</span>
                </button>
                <span class="section-text muted"
                  >Or scroll down to explore more.</span
                >
              </div>
            </div>
            <div class="soft-card">
              <h3>Loader Details</h3>
              <p>
                The preloader shows a swirling orbit of stars, a central
                “ENTER” trigger, and a numeric counter from 0% to 100%.
              </p>
              <ul class="list">
                <li>Click ENTER to start the expansion.</li>
                <li>Particles explode outward in slow motion.</li>
                <li>A centered counter runs from 0 to 100%.</li>
                <li>At 100%, the site fades smoothly into view.</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Section 3: Closing -->
        <section>
          <div class="section-eyebrow">Section Three</div>
          <h2 class="section-title">Ready to plug into your real site.</h2>
          <p class="section-text">
            Swap out these sections with your actual homepage. The only thing
            you need to keep is the <code>#blackhole</code> preloader block and
            the script that controls it. Everything else is just structure you
            can customize or remove.
          </p>
          <div class="pill-row">
            <div class="pill">Replace Content</div>
            <div class="pill">Keep Loader</div>
            <div class="pill">Ship Design</div>
          </div>
        </section>
      </main>
    </div>

    <!-- =============== BLACK HOLE SCRIPT =============== -->
    <script>
      function blackhole(element) {
        const container = document.querySelector(element);
        const h = container.offsetHeight;
        const w = container.offsetWidth;
        const cw = w;
        const ch = h;
        const maxorbit = 255; // distance from center
        const centery = ch / 2;
        const centerx = cw / 2;

        const startTime = new Date().getTime();
        let currentTime = 0;

        const stars = [];
        let collapse = false; // if hovered
        let expanse = false; // if clicked

        // Create canvas
        const canvas = document.createElement("canvas");
        canvas.width = cw;
        canvas.height = ch;
        container.appendChild(canvas);
        const context = canvas.getContext("2d");

        context.globalCompositeOperation = "multiply";

        function setDPI(canvas, dpi) {
          if (!canvas.style.width) canvas.style.width = canvas.width + "px";
          if (!canvas.style.height) canvas.style.height = canvas.height + "px";

          const scaleFactor = dpi / 96;
          canvas.width = Math.ceil(canvas.width * scaleFactor);
          canvas.height = Math.ceil(canvas.height * scaleFactor);
          const ctx = canvas.getContext("2d");
          ctx.scale(scaleFactor, scaleFactor);
        }

        function rotate(cx, cy, x, y, angle) {
          const radians = angle;
          const cos = Math.cos(radians);
          const sin = Math.sin(radians);
          const nx = cos * (x - cx) + sin * (y - cy) + cx;
          const ny = cos * (y - cy) - sin * (x - cx) + cy;
          return [nx, ny];
        }

        setDPI(canvas, 192);

        class Star {
          constructor() {
            const rands = [];
            rands.push(Math.random() * (maxorbit / 2) + 1);
            rands.push(Math.random() * (maxorbit / 2) + maxorbit);

            this.orbital = rands.reduce((p, c) => p + c, 0) / rands.length;

            this.x = centerx;
            this.y = centery + this.orbital;

            this.yOrigin = centery + this.orbital;

            this.speed =
              ((Math.floor(Math.random() * 2.5) + 1.5) * Math.PI) / 180;
            this.rotation = 0;
            this.startRotation =
              ((Math.floor(Math.random() * 360) + 1) * Math.PI) / 180;

            this.id = stars.length;

            this.collapseBonus = this.orbital - maxorbit * 0.7;
            if (this.collapseBonus < 0) {
              this.collapseBonus = 0;
            }

            this.color = "rgba(255,255,255," + (1 - this.orbital / 255) + ")";

            this.hoverPos = centery + maxorbit / 2 + this.collapseBonus;
            this.expansePos =
              centery +
              (this.id % 100) * -10 +
              (Math.floor(Math.random() * 20) + 1);

            this.prevR = this.startRotation;
            this.prevX = this.x;
            this.prevY = this.y;

            this.originalY = this.yOrigin;

            stars.push(this);
          }

          draw() {
            if (!expanse) {
              this.rotation = this.startRotation + currentTime * this.speed;
              if (!collapse) {
                if (this.y > this.yOrigin) {
                  this.y -= 2.5;
                }
                if (this.y < this.yOrigin - 4) {
                  this.y += (this.yOrigin - this.y) / 10;
                }
              } else {
                this.trail = 1;
                if (this.y > this.hoverPos) {
                  this.y -= (this.hoverPos - this.y) / -5;
                }
                if (this.y < this.hoverPos - 4) {
                  this.y += 2.5;
                }
              }
            } else {
              // EXPANSION ONLY (no reassembly)
              this.rotation =
                this.startRotation + currentTime * (this.speed / 2);
              if (this.y > this.expansePos) {
                this.y -= Math.floor(this.expansePos - this.y) / -80;
              }
            }

            context.save();
            context.fillStyle = this.color;
            context.strokeStyle = this.color;
            context.beginPath();
            const oldPos = rotate(
              centerx,
              centery,
              this.prevX,
              this.prevY,
              -this.prevR
            );
            context.moveTo(oldPos[0], oldPos[1]);
            context.translate(centerx, centery);
            context.rotate(this.rotation);
            context.translate(-centerx, -centery);
            context.lineTo(this.x, this.y);
            context.stroke();
            context.restore();

            this.prevR = this.rotation;
            this.prevX = this.x;
            this.prevY = this.y;
          }
        }

        const centerHover = document.querySelector(".centerHover");
        const loaderCount = document.querySelector(".loader-count");

        // CLICK: trigger explosion + percentage, then reveal site
        centerHover.addEventListener("click", function () {
          if (expanse) return; // prevent double click

          collapse = false;
          expanse = true;
          this.classList.add("open");

          if (loaderCount) {
            loaderCount.classList.add("visible");

            let progress = 0;
            loaderCount.textContent = "0%";

            const interval = setInterval(() => {
              progress += 1;
              if (progress > 100) progress = 100;
              loaderCount.textContent = progress + "%";

              if (progress >= 100) {
                clearInterval(interval);

                // Fade into site
                document.body.classList.add("site-loaded");

                // Optional: hide the number text after transition
                setTimeout(() => {
                  loaderCount.classList.remove("visible");
                }, 900);
              }
            }, 50); // 100 * 50ms = 5 seconds total
          } else {
            // Fallback: if no counter, just reveal immediately
            document.body.classList.add("site-loaded");
          }
        });

        centerHover.addEventListener("mouseover", function () {
          if (!expanse) {
            collapse = true;
          }
        });

        centerHover.addEventListener("mouseout", function () {
          if (!expanse) {
            collapse = false;
          }
        });

        function loop() {
          const now = new Date().getTime();
          currentTime = (now - startTime) / 50;

          context.fillStyle = "rgba(25,25,25,0.2)";
          context.fillRect(0, 0, cw, ch);

          for (let i = 0; i < stars.length; i++) {
            if (stars[i] !== undefined) {
              stars[i].draw();
            }
          }

          requestAnimationFrame(loop);
        }

        function init() {
          context.fillStyle = "rgba(25,25,25,1)";
          context.fillRect(0, 0, cw, ch);
          for (let i = 0; i < 2500; i++) {
            new Star();
          }
          loop();
        }

        init();
      }

      document.addEventListener("DOMContentLoaded", () => {
        blackhole("#blackhole");
      });
    </script>
  </body>
</html>
